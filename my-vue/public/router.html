<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <!-- router-link -->
  <!-- <span onclick="routerChange('/')">首页</span>
  <span onclick="routerChange('/about')">关于</span> -->

  <a onclick="routerChange('/')">首页</a>
  <a onclick="routerChange('/about')">关于</a>

  <!-- router-view -->
  <div id="view"></div>

  <script>
      const view = document.getElementById('view');
      //页面刚进来的时候
    // document.addEventListener('DOMContentLoaded', () => {
    //   view.innerHTML = location.hash.slice(1);
    // })

    // window.addEventListener('hashchange', () => {
    //   view.innerHTML = location.hash.slice(1);
    // })

    // function routerChange (pathname) {
    //   location.hash = pathname;
    // }


    // history  pushstate实现无刷新的插入一条历史状态
    function routerChange (pathname) {
      history.pushState(null, null, pathname);
      view.innerHTML = location.pathname;
    }

    window.addEventListener('popstate', () => {
      view.innerHTML = location.pathname;
    })


    // hash hsitory
    // # url会更改、浏览器可以前进和后退、浏览器不刷新
    // hash永远不和服务端交流

    // history
    // 无锚点 #
    // history服务端的同事配合

  </script>

</body>
</html>